๐ ุชูุฑูุฑ ุงูุชุญููู ุงูุดุงูู ููุดุฑูุน InstaAnalysis
1. ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน
ุงูุบุฑุถ ุงูุฑุฆูุณู
ููุตุฉ ุชุญููู ููุฑุงูุจุฉ ุญุณุงุจุงุช Instagram ููุฃุนูุงู - ุชููู ุจุชุชุจุน ูุดุงุท ุงููุดุฑ ููุญุณุงุจุงุช ุงูุชุฌุงุฑูุฉ ูุงูุชุดุงู ุฃููุงุท ุนุฏู ุงููุดุงุท ูุชุญุฏูุฏ ูุฑุต ุงูุชูุงุตู ุงูุชุฌุงุฑู.
ููุน ุงูุชุทุจูู
Web Application ุจูุงุฌูุฉ Dashboard
Backend API ูุจูู ุนูู FastAPI
Background Worker ููุนุงูุฌุฉ ุงูุจูุงูุงุช ุจุดูู ุบูุฑ ูุชุฒุงูู
ุงูุฌูููุฑ ุงููุณุชูุฏู
ููุงูุงุช ุงูุชุณููู ุงูุฑููู
ููุฏูู ุฎุฏูุงุช ุฅุฏุงุฑุฉ ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู
ูุฑู ุงููุจูุนุงุช ุงูุชู ุชุณุชูุฏู ุงูุนููุงุก ุงููุญุชูููู ุนูู Instagram
2. ุงููููููุฉ ูุงูุจููุฉ (Architecture)
ุจููุฉ ุงููุดุฑูุน
instaanalysis/
โโโ .env                    # ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ main.py                 # ุฎุงุฏู FastAPI ูุงููุณุงุฑุงุช
โโโ database.py             # ููุงุฐุฌ SQLAlchemy ูุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ scraper.py              # ุชูุงูู Apify ูุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช
โโโ scheduler.py            # ุฌุฏููุฉ ุงูููุงู ูุงูุฎูููุฉ
โโโ dashboard.html          # ูุงุฌูุฉ ุงููุณุชุฎุฏู
โโโ instagram_v3.db         # ูุงุนุฏุฉ ุจูุงูุงุช SQLite (ุงููุณุฎุฉ ุงูุญุงููุฉ)
โโโ requirements.txt        # ุงูุชุจุนูุงุช
โโโ venv/                   # ุจูุฆุฉ Python ุงูุงูุชุฑุงุถูุฉ
ููุท ุงูุชุตููู
Monolithic Architecture - ุชุทุจูู ูุงุญุฏ ูุชูุงูู
ููุท ุจุณูุท ุจุฏูู MVC ุตุฑูุญ
ูุตู ูุงุถุญ ูููุณุคูููุงุช ุจูู ุงููููุงุช
ุงูุนูุงูุงุช ุจูู ุงูููููุงุช
                    โโโโโโโโโโโโโโโโโโโ
                    โ   dashboard.htmlโ โ Frontend
                    โโโโโโโโโโฌโโโโโโโโโ
                             โ HTTP Requests
                    โโโโโโโโโโผโโโโโโโโโ
                    โ     main.py     โ โ API Layer
                    โโโโโโโโโโฌโโโโโโโโโ
                             โ
         โโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
         โ                   โ                   โ
โโโโโโโโโโผโโโโโโโโโ โโโโโโโโโโผโโโโโโโโโ โโโโโโโโโโผโโโโโโโโโ
โ   database.py   โ โ   scraper.py    โ โ  scheduler.py   โ
โ   (SQLAlchemy)  โ โ   (Apify)       โ โ  (APScheduler)  โ
โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ
3. ุงูุชูููุงุช ูุงูุฃุฏูุงุช (Tech Stack)
ุงููุฆุฉ	ุงูุชูููุฉ
ูุบุฉ ุงูุจุฑูุฌุฉ	Python 3.x
ุฅุทุงุฑ ุงูุนูู Backend	FastAPI
ุฎุงุฏู ASGI	Uvicorn
ูุงุนุฏุฉ ุงูุจูุงูุงุช	SQLite3
ORM	SQLAlchemy
ุฌุฏููุฉ ุงูููุงู	APScheduler (AsyncIO)
ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช	Apify Client
Frontend	HTML + Vanilla JavaScript
CSS Framework	Tailwind CSS (CDN)
ุงูุฎุท	Inter (Google Fonts)
4. ุงูููุชุจุงุช ูุงูุชุจุนูุงุช
ูู ููู requirements.txt:
ุงูููุชุจุฉ	ุงูุฏูุฑ
fastapi	ุฅุทุงุฑ ุนูู ุงูููุจ ุงูุณุฑูุน ููู REST APIs
uvicorn	ุฎุงุฏู ASGI ูุชุดุบูู FastAPI
sqlalchemy	ORM ููุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
apify-client	ุนููู API ูุฎุฏูุฉ Apify ูุงุณุชุฎุฑุงุฌ ุจูุงูุงุช Instagram
python-dotenv	ุฅุฏุงุฑุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ูู ููู .env
apscheduler	ุฌุฏููุฉ ุงูููุงู ุงูุฎูููุฉ
aiofiles	ุงูุชุนุงูู ูุน ุงููููุงุช ุจุดูู ุบูุฑ ูุชุฒุงูู
jinja2	ูุญุฑู ุงูููุงูุจ (ุถููู ูุน FastAPI)
python-multipart	ุชุญููู ุจูุงูุงุช ุงูููุงุฐุฌ
5. ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
1๏ธโฃ ูุฑุงูุจุฉ ุงูุญุณุงุจุงุช
ุฅุถุงูุฉ ุญุณุงุจุงุช Instagram ูููุชุงุจุนุฉ
ุชุชุจุน ุชุงุฑูุฎ ุขุฎุฑ ููุดูุฑ
ุญุณุงุจ ุฃูุงู ุนุฏู ุงููุดุงุท
2๏ธโฃ ูุธุงู ุงูุฅุดุงุฑุงุช ุงูููููุฉ
# ูู scraper.py
if days_inactive > 14:
    signal = "GREEN"     # ูุฑุตุฉ - ุนุฏู ูุดุงุท ุทููู
elif days_inactive > threshold:
    signal = "YELLOW"    # ุชุญุฐูุฑ - ุจุฏุงูุฉ ุนุฏู ุงููุดุงุท
else:
    signal = "RED"       # ูุดุท
3๏ธโฃ ููุญุฉ ุงูุชุญูู ุงูุชูุงุนููุฉ
ุฅุญุตุงุฆูุงุช ููุฑูุฉ (ุงููุฌููุนุ ุงููุฑุตุ ุงูุชุญุฐูุฑุงุช)
ุฌุฏูู ุชูุงุนูู ูุน ููุชุฑุฉ ูุจุญุซ
ุชุตุฏูุฑ CSV
ุชุณููุงุช ูุฎุตุตุฉ ูุงุจูุฉ ููุชุนุฏูู
4๏ธโฃ ุฌูุน ุงูุจูุงูุงุช ุงูุขูู
ูุญุต ุชููุงุฆู ูู 12 ุณุงุนุฉ
ุชุญุฏูุซ ูุฏูู ุนูุฏ ุงูุทูุจ
5๏ธโฃ ููุงุท ุงูููุงูุฉ (API Endpoints)
ุงููุณุงุฑ	ุงูุทุฑููุฉ	ุงููุธููุฉ
/	GET	ุนุฑุถ ููุญุฉ ุงูุชุญูู
/dashboard	GET	ุฌูุจ ุจูุงูุงุช JSON
/add_target	GET	ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ
/refresh_target	GET	ุชุญุฏูุซ ุญุณุงุจ
/delete_target	DELETE	ุญุฐู ุญุณุงุจ
/update_label	PUT	ุชุญุฏูุซ ุงูุชุณููุฉ
/export_csv	GET	ุชุตุฏูุฑ CSV
6. ุงูุฎูุงุฑุฒููุงุช ูุงูููุทู ุงูุจุฑูุฌู
ุฎูุงุฑุฒููุฉ ุญุณุงุจ ูุชูุณุท ูุชุฑุฉ ุงููุดุฑ
ูู scraper.py:100-110:
# ุญุณุงุจ ุงููุชูุณุท ูู ุขุฎุฑ 10 ููุดูุฑุงุช
intervals = []
for i in range(len(dates) - 1):
    diff = (dates[i] - dates[i + 1]).days
    intervals.append(diff)

avg_interval = sum(intervals) / len(intervals)
ุฎูุงุฑุฒููุฉ ุชุญุฏูุฏ ุญุงูุฉ ุงูุฅุดุงุฑุฉ
ูู scraper.py:112-118:
# ุงูุญุฏ ุงูุฃุฏูู 5 ุฃูุงู ุฃู ูุชูุณุท ุงููุชุฑุฉ + 2
threshold = max(avg_interval + 2, 5)

if days_inactive > 14:
    signal = "GREEN"      # ูุฑุตุฉ ูุจูุฑุฉ
elif days_inactive > threshold:
    signal = "YELLOW"     # ุชุญุฐูุฑ
else:
    signal = "RED"        # ูุดุท
ูุธุงู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ (Queue System)
ูู scheduler.py:
async def process_queue(self):
    while True:
        username = await self.queue.get()
        # ูุนุงูุฌุฉ ูุงุญุฏ ุชูู ุงูุขุฎุฑ
        result = await self.scraper.get_profile_data(username)
        # ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
        await asyncio.sleep(5)  # ุชุฃุฎูุฑ 5 ุซูุงูู ูุชุฌูุจ ุงูุญุธุฑ
7. ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุงูููุน
SQLite3 - ููู ูุญูู instagram_v3.db
ูููู ุฌุฏูู clients
ูู database.py:
ุงูุนููุฏ	ุงูููุน	ุงููุตู
id	Integer	ุงููุนุฑู ุงููุฑูุฏ (Primary Key)
username	String	ุงุณู ุงููุณุชุฎุฏู ูู Instagram
custom_label	String	ุชุณููุฉ ูุฎุตุตุฉ (ูุซู "ูุทุนู")
last_check_date	DateTime	ุชุงุฑูุฎ ุขุฎุฑ ูุญุต
last_post_date	String	ุชุงุฑูุฎ ุขุฎุฑ ููุดูุฑ
days_inactive	Integer	ุฃูุงู ุนุฏู ุงููุดุงุท
followers_count	Integer	ุนุฏุฏ ุงููุชุงุจุนูู
avg_posting_interval	Integer	ูุชูุณุท ูุชุฑุฉ ุงููุดุฑ
status_signal	String	ุฅุดุงุฑุฉ ุงูุญุงูุฉ (RED/YELLOW/GREEN)
last_check_status	String	ุญุงูุฉ ุงููุญุต (pending/processing/success/error)
last_error_message	String	ุฑุณุงูุฉ ุงูุฎุทุฃ ุฅู ูุฌุฏ
post_url	String	ุฑุงุจุท ุขุฎุฑ ููุดูุฑ
is_tracked	Boolean	ูู ูุชู ุชุชุจุนู
8. ุงููุตุงุฏูุฉ ูุงูุฃูุงู
ุงููุถุน ุงูุญุงูู
โ๏ธ ูุง ููุฌุฏ ูุธุงู ูุตุงุฏูุฉ! ุฌููุน ุงูููุงุท ุงูููุงุฆูุฉ ููุชูุญุฉ ููุนููู.
ุงููุดุงูู ุงูุฃูููุฉ ุงูููุชุดูุฉ
ุงููุดููุฉ	ุงูุฎุทูุฑุฉ	ุงูุชูุตูุฉ
ุฑูุฒ Apify ููุดูู ูู .env	๐ด ุนุงููุฉ	ุชุฏููุฑ ุงูุฑูุฒ ูุงุณุชุฎุฏุงู ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ
ูุง ุชูุฌุฏ ูุตุงุฏูุฉ ููู API	๐ด ุนุงููุฉ	ุฅุถุงูุฉ API Key ุฃู OAuth2
ูุง ููุฌุฏ ุชุญูู ูู ุงููุฏุฎูุงุช	๐ก ูุชูุณุทุฉ	ุงุณุชุฎุฏุงู Pydantic ููุชุญูู
ูุง ููุฌุฏ Rate Limiting	๐ก ูุชูุณุทุฉ	ุฅุถุงูุฉ middleware ููุญุฏ ูู ุงูุทูุจุงุช
ูุง ููุฌุฏ HTTPS	๐ก ูุชูุณุทุฉ	ุชูุนูู SSL/TLS
9. ูุงุฌูุฉ ุงููุณุชุฎุฏู (Frontend)
ุงูููู
dashboard.html (442 ุณุทุฑ)
ุงูููููุงุช ุงูุฑุฆูุณูุฉ
ุฑุฃุณ ุงูุตูุญุฉ - ุนููุงู ูุญูู ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ
ุดุจูุฉ ุงูุฅุญุตุงุฆูุงุช - 4 ุจุทุงูุงุช (ุงููุฌููุนุ ุงููุฑุตุ ุงูุชุญุฐูุฑุงุชุ ููุฏ ุงููุนุงูุฌุฉ)
ุดุฑูุท ุงูููุงุชุฑ - ููุชุฑ ุงูุญุงูุฉ ูุงูุจุญุซ ุจุงููุต
ุฌุฏูู ุงูุจูุงูุงุช - ุนุฑุถ ุฌููุน ุงูุญุณุงุจุงุช ูุน ุงูุฅุฌุฑุงุกุงุช
ุงููุธุงุฆู JavaScript ุงูุฑุฆูุณูุฉ
ุงููุธููุฉ	ุงูุบุฑุถ
loadDashboard()	ุฌูุจ ุงูุจูุงูุงุช ูู API ูู 5-30 ุซุงููุฉ
applyFilters()	ุชุทุจูู ุงูููุงุชุฑ ูุงูุจุญุซ
addTarget()	ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ
deleteTarget()	ุญุฐู ุญุณุงุจ
refreshTarget()	ุชุญุฏูุซ ูุฏูู
updateLabel()	ุชุญุฏูุซ ุงูุชุณููุฉ
renderTable()	ุฑุณู ุฌุฏูู ุงูุจูุงูุงุช
ุงูุชุตููู
Tailwind CSS ููุชูุณูู
ุชุตููู ุฒุฌุงุฌู (Glass Morphism) ููุจุทุงูุงุช
ููุงุท ููููุฉ ูุชุญุฑูุฉ ููุฅุดุงุฑุงุช
10. ุงูุฎุงุฏู ูุงูู Backend
ุฅุทุงุฑ ุงูุนูู
FastAPI - ุฅุทุงุฑ Python ุณุฑูุน ููู APIs
ููุทุฉ ุงูุฏุฎูู
main.py:
app = FastAPI()

@app.on_event("startup")
async def startup_event():
    await scheduler.start()  # ุจุฏุก ุงูุฌุฏููุฉ
ุงูุชุดุบูู
uvicorn main:app --reload --host 0.0.0.0 --port 8000
11. ูููุงุช ุงูุฅุนุฏุงุฏ
.env
APIFY_TOKEN=apify_api_xxx...
โ๏ธ ูุฌุจ ุญูุงูุฉ ูุฐุง ุงูููู ูุนุฏู ุฑูุนู ูู Git
database.py
SQLALCHEMY_DATABASE_URL = "sqlite:///./instagram_v3.db"
12. ุงูุงุฎุชุจุงุฑุงุช
โ๏ธ ูุง ุชูุฌุฏ ุงุฎุชุจุงุฑุงุช! ูู ูุชู ุงูุนุซูุฑ ุนูู ุฃู ูููุงุช ุงุฎุชุจุงุฑ ูู ุงููุดุฑูุน.
ุงูุชูุตูุฉ
ุฅุถุงูุฉ pytest ููุงุฎุชุจุงุฑุงุช
ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ููู scraper
ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุชูุงูู ููู API
13. ุงููุดุฑ ูุงูุจูุงุก
ุงููุถุน ุงูุญุงูู
ูุถุน ุงูุชุทููุฑ (Development Mode)
ูุชุทูุจุงุช ุงููุดุฑ
# ุชุซุจูุช ุงูุชุจุนูุงุช
pip install -r requirements.txt

# ุชุดุบูู ุงูุฎุงุฏู
uvicorn main:app --host 0.0.0.0 --port 8000
ูุงุฆูุฉ ูุชุทูุจุงุช ุงูุฅูุชุงุฌ
 ุชุฏููุฑ ุฑูุฒ Apify
 ุฅุถุงูุฉ ุทุจูุฉ ุงููุตุงุฏูุฉ
 ุชูุนูู HTTPS
 ุฅุนุฏุงุฏ ุงูุชุณุฌูู (Logging)
 ุฅุถุงูุฉ ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก
 ุฅุถุงูุฉ Rate Limiting
 ุชุทุจูู ุงูู Pagination
 ุฅุถุงูุฉ ุงูุชุญูู ูู ุงููุฏุฎูุงุช
 ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ
14. ุงูุชูุซูู
ุงููุถุน ุงูุญุงูู
โ ูุง ููุฌุฏ ููู README
โ ูุง ุชูุฌุฏ ุชุนูููุงุช ูู ุงูููุฏ
โ ูุง ููุฌุฏ ุชูุซูู ููู API
โ ุฃุณูุงุก ุงูุฏูุงู ูุงุถุญุฉ ูุณุจูุงู
15. ููุงุท ุงูููุฉ ูุงูุถุนู
โ ููุงุท ุงูููุฉ
ุงูููุทุฉ	ุงูุชูุงุตูู
ุจุณุงุทุฉ ุงููููููุฉ	ุณูููุฉ ุงูููู ูุงูุตูุงูุฉ
ุงุณุชุฎุฏุงู Async	ุฃุฏุงุก ุฌูุฏ ูุน FastAPI
ูุงุฌูุฉ ูุณุชุฎุฏู ูุธููุฉ	ุชุตููู ุนุตุฑู ูุน Tailwind
ูุตู ุงููุณุคูููุงุช	ูู ููู ูู ุบุฑุถ ูุงุถุญ
ูุธุงู Queue	ุชุฌูุจ ุงูุญุธุฑ ูู Instagram
โ ููุงุท ุงูุถุนู
ุงูููุทุฉ	ุงูุฎุทูุฑุฉ	ุงูุญู
ูุง ุชูุฌุฏ ูุตุงุฏูุฉ	๐ด ุญุฑุฌุฉ	ุฅุถุงูุฉ JWT/API Keys
ูุง ุชูุฌุฏ ุงุฎุชุจุงุฑุงุช	๐ก ุนุงููุฉ	ุฅุถุงูุฉ pytest
ูุง ููุฌุฏ ุชูุซูู	๐ก ูุชูุณุทุฉ	ุฅุถุงูุฉ README ูุชุนูููุงุช
ุนุงูู ูุงุญุฏ ููู Queue	๐ก ูุชูุณุทุฉ	ุฅุถุงูุฉ workers ูุชุนุฏุฏุฉ
Polling ุจุฏู WebSocket	๐ข ููุฎูุถุฉ	ุงูุชุญููู ูู WebSocket
ูุง ููุฌุฏ Pagination	๐ข ููุฎูุถุฉ	ุฅุถุงูุฉ pagination ููุฌุฏุงูู
16. ุชุญููู ุงูุฃุฏุงุก
ููุงุท ุชุคุซุฑ ุนูู ุงูุฃุฏุงุก
ุนุงูู Queue ูุงุญุฏ
ูุนุงูุฌ ุญุณุงุจ ูุงุญุฏ ูู 5 ุซูุงูู
ุงูุญู: ุฅุถุงูุฉ workers ูุชูุงุฒูุฉ
Polling ูู 5-30 ุซุงููุฉ
ุทูุจุงุช ูุชูุฑุฑุฉ ููู API
ุงูุญู: ุงุณุชุฎุฏุงู WebSocket
ุชุญููู ูู ุงูุจูุงูุงุช
ูุง ููุฌุฏ pagination
ุงูุญู: ุฅุถุงูุฉ pagination ูvirtual scrolling
SQLite
ุบูุฑ ููุงุณุจ ููุชูุณุน ุงููุจูุฑ
ุงูุญู: PostgreSQL ููุฅูุชุงุฌ
ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ
# ุฅุถุงูุฉ workers ูุชุนุฏุฏุฉ
async def start(self):
    for _ in range(3):  # 3 workers
        asyncio.create_task(self.process_queue())
# ุฅุถุงูุฉ caching
from functools import lru_cache

@lru_cache(maxsize=100)
async def get_cached_profile(username):
    ...
๐ ููุฎุต ุงูุชูุตูุงุช
ุฃููููุฉ ุนุงููุฉ ๐ด
ุฅุถุงูุฉ ูุธุงู ูุตุงุฏูุฉ (API Keys / JWT)
ุชุฏููุฑ ุฑูุฒ Apify ุงูุญุงูู
ุฅุถุงูุฉ ุงูุชุญูู ูู ุงููุฏุฎูุงุช
ุฃููููุฉ ูุชูุณุทุฉ ๐ก
ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ูุชูุงูู
ุฅุถุงูุฉ ููู README ููุตู
ุชุทุจูู ุงูุชุณุฌูู (Logging) ุงูููุงุณุจ
ุฅุถุงูุฉ Rate Limiting
ุฃููููุฉ ููุฎูุถุฉ ๐ข
ุงูุชุญููู ูู Polling ูู WebSocket
ุฅุถุงูุฉ Pagination
ุชุญุณูู ุงูู Queue ุจุนูุงู ูุชุนุฏุฏูู
ุชุฑููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู PostgreSQL